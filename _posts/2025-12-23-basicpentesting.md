---
title: "ðŸ›¡ï¸Basic Pentesting Room "
date: 2025-12-22 10:00:00 +0100
categories: [Blog]
tags: [introduction, cybersecurity, journey]
---

ðŸ”Ž Introduction

The Basic Pentesting room on TryHackMe is designed to introduce beginners to the fundamental steps of a penetration test.
This room focuses on enumeration, service discovery, weak credentials, SMB misconfigurations, SSH access, and basic privilege escalation.

In this blog, I will walk through the attack step by step, explaining what was done, why it was done, and what we learned at each stage.

ðŸ§­ Step 1: Network Scanning with Nmap

The first step in any penetration test is enumeration. We start by scanning the target machine to identify open ports and running services.

sudo nmap -sV -Pn 10.80.140.8

Explanation:

-sV â†’ Detect service versions

-Pn â†’ Skip host discovery (assume the host is up)

Result:

The scan revealed that HTTP (port 80) was open, indicating a web server running on the target.

ðŸŒ Step 2: Web Enumeration with Gobuster

Since HTTP was available, the next step was to enumerate hidden directories.

gobuster dir -u http://10.80.140.8 -w /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt

Why Gobuster?

Web servers often contain directories that are not linked on the main page. Gobuster brute-forces common directory names using a wordlist.

Result:

Gobuster discovered the directory:

/development


This directory contained files that hinted at misconfigured services, particularly SMB.
From the context and file contents, we could also infer that the system was Linux-based (not Windows), because references such as /etc/shadow appeared.

ðŸ§© Step 3: SMB Enumeration with enum4linux

Because SMB ports were open, we moved to enumerate Samba services.

enum4linux -a 10.80.140.8

What does -a mean?

The -a option tells enum4linux to perform all enumeration techniques, including:

User enumeration

Share listing

OS information

Anonymous access checks

Result:

From the output, we learned:

Two valid users exist: jan and kay

Anonymous SMB access is enabled

This is a serious misconfiguration and a common vulnerability.

ðŸ“‚ Step 4: Accessing SMB as Anonymous

Since anonymous access was allowed, we connected to the SMB share.

smbclient //10.80.140.8/anonymous -N


Inside the SMB session:

smb: \> ls


A file named staff.txt was found.

We downloaded it:

smb: \> get staff.txt
smb: \> exit


Then viewed it locally:

cat staff.txt

Result:

The file confirmed the existence of users jan and kay, reinforcing the information gathered earlier.

ðŸ” Step 5: SSH Brute Force with Hydra

Since SSH was running and we had a valid username (jan), we attempted a password attack.

hydra -l jan -P /usr/share/wordlists/rockyou.txt 10.80.140.8 ssh -F -V

Explanation:

-l jan â†’ Target username

-P rockyou.txt â†’ Password wordlist

ssh â†’ Target service

Result:

Hydra successfully found the SSH password for user jan.

ðŸ–¥ï¸ Step 6: SSH Access as jan

Using the cracked credentials, we logged in:

ssh jan@10.80.140.8


Once inside, we checked the home directories:

ls /home

Result:
jan  kay  ubuntu


This confirmed that kay is another local user.

ðŸªœ Step 7: Privilege Escalation via SSH Keys

Next, we inspected kayâ€™s home directory:

ls -la /home/kay


We noticed a .ssh directory, which is critical:

ls -la /home/kay/.ssh

Result:
id_rsa
id_rsa.pub


The file id_rsa is kayâ€™s private SSH key and was readable by jan.
This is a severe security misconfiguration.

ðŸ”‘ Step 8: Extracting and Using the SSH Private Key

We displayed the private key:

cat /home/kay/.ssh/id_rsa


The key was copied and saved locally as passkay.

Then we fixed permissions:

chmod 600 passkay


We attempted SSH login as kay:

ssh kay@10.80.140.8 -i passkay


At this point, the system asked for a passphrase.

ðŸ”“ Step 9: Cracking the SSH Key Passphrase
Why canâ€™t John crack the key directly?

John the Ripper only works with hashes, not raw SSH keys.

Solution: ssh2john
ssh2john passkay > kay_hash

What is ssh2john?

A conversion tool

Extracts the hash of the SSH key passphrase

Does NOT crack the password itself

Cracking with John the Ripper
john kay_hash --wordlist=/usr/share/wordlists/rockyou.txt

What is John the Ripper?

John is a password cracking tool that works using:

Dictionary attacks

Brute force

Rule-based mutations

John compares generated hashes from the wordlist against the extracted hash.
When a match is found, the passphrase is revealed.

Result:

ðŸŽ‰ The passphrase for kayâ€™s SSH key was successfully recovered.

This passphrase represents the final password required by the room.

ðŸ“˜ robots.txt vs Gobuster (Important Concept)
robots.txt

A public file that tells search engines what not to index

Often leaks sensitive directories unintentionally

Example:

/robots.txt

Gobuster

Actively brute-forces directories using a wordlist

Finds directories even if they are NOT listed in robots.txt

More powerful, but noisier

ðŸ‘‰ Best practice:

Check robots.txt first

Then use Gobuster for full enumeration

âœ… Conclusion

This room demonstrates a realistic pentesting flow:

Network scanning (Nmap)

Web enumeration (Gobuster)

SMB enumeration (enum4linux)

Anonymous SMB access

Credential attacks (Hydra)

SSH access

Privilege escalation via exposed SSH keys

Passphrase cracking with ssh2john + John